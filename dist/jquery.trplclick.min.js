"use strict";(function($){$.event.special.trplclick={setup:function(){$(this).bind("click",clickHandler)},teardown:function(){$(this).unbind("click",clickHandler)},add:function(obj){var oldHandler=obj.handler;var defaults={MinClickInterval:100,MaxClickInterval:500,MinPercentThird:85,MaxPercentThird:130};var hasOne=false,hasTwo=false,time=[0,0,0],diff=[0,0];obj.handler=function(event,data){var now=Date.now(),conf=$.extend({},defaults,event.data);if(time[1]&&now-time[1]>=conf.MaxClickInterval){obj.clearRuntime()}if(time[0]&&time[1]&&now-time[0]>=conf.MaxClickInterval){obj.clearRuntime()}if(hasTwo){time[2]=Date.now();diff[1]=time[2]-time[1];var deltaPercent=100*(diff[1]/diff[0]);if(deltaPercent>=conf.MinPercentThird&&deltaPercent<=conf.MaxPercentThird){oldHandler.apply(this,arguments)}obj.clearRuntime()}else if(!hasOne){hasOne=true;time[0]=Date.now()}else if(hasOne){time[1]=Date.now();diff[0]=time[1]-time[0];diff[0]>=conf.MinClickInterval&&diff[0]<=conf.MaxClickInterval?hasTwo=true:obj.clearRuntime()}};obj.clearRuntime=function(){hasOne=false;hasTwo=false;time[0]=0;time[1]=0;time[2]=0;diff[0]=0;diff[1]=0}}};function clickHandler(event){$(this).triggerHandler("trplclick",[event.data])}})(jQuery);